# AI聚合for超聚变 (AI Aggregator)

这是一个功能强大的 Chrome 浏览器插件，旨在通过单一界面聚合多个主流 AI 聊天机器人（如豆包、DeepSeek、Kimi 等），实现一键同步提问，极大地提升多模型对比和办公效率。

## 核心功能

- **多模型并行**：在一个页面中同时加载多个 AI 聊天界面，支持分屏对比。
- **统一输入框**：底部的统一输入框可将消息同步发送至所有已开启的 AI 窗口。
- **智能自动化**：自动定位各 AI 站点的输入框并模拟真实用户输入，兼容 React/Vue 等前端框架。
- **突破框架限制**：通过动态修改网络请求头（移除 `X-Frame-Options` 和 `Content-Security-Policy`），实现对原本禁止嵌入的 AI 站点的集成。
- **个性化选择**：支持自由勾选想要使用的 AI 模型，并自动保存偏好。

## 支持的 AI 列表

目前已适配并支持以下 AI 平台：
- **豆包 (Doubao)**
- **DeepSeek**
- **腾讯元宝 (Yuanbao)**
- **通义千问 (Qianwen)**
- **智谱清言 (ChatGLM)**
- **Kimi (Moonshot AI)**
- **M365 (Microsoft 365 copilot)**
  
## 安装步骤

1. 下载本项目代码到本地。
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`。
3. 在页面右上角开启“开发者模式”。
4. 点击“加载已解压的扩展程序”，选择本项目所在的文件夹。

## 使用指南

1. 点击浏览器工具栏中的插件图标，选择“打开聚合面板”。
2. 在面板顶部的设置栏中勾选你想要使用的 AI 模型（建议最多选择 3 个以获得最佳视觉效果）。
3. 在底部的统一输入框中输入你的问题。
4. 按 `Enter` 键或点击“发送”按钮，消息将同步分发到所有选中的 AI 窗口。

## 技术细节

- **Content Script 注入**：在每个 AI 站点的 iframe 中注入 `content.js`，负责寻找输入框、填充文本并触发发送逻辑。
- **Declarative Net Request**：利用 Chrome 的 `declarativeNetRequest` API 实时拦截并修改 HTTP 响应头，绕过站点的 iframe 嵌入限制。
- **Window Top 伪装**：通过 `Object.defineProperty` 重定义 `window.top`，绕过部分站点的防嵌套检测脚本。

## 注意事项

- **登录状态**：插件不会存储您的账号信息。如果某个 AI 提示未登录，请直接在 iframe 窗口内完成登录，或在普通标签页登录后刷新面板。
- **验证码**：部分站点（如 DeepSeek）在频繁请求时可能触发验证码，需在对应的 iframe 中手动完成验证。
- **布局限制**：为了保证使用体验，目前限制最多同时开启 3 个 AI 窗口。
- **页面显示**：如果部分AI对话网页未显示，请重新勾选下

## 贡献与反馈

欢迎提交 Issue 或 Pull Request 来增加对更多 AI 模型的支持或改进现有功能。
